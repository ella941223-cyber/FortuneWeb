{"ast":null,"code":"var _jsxFileName = \"/Users/karly/Desktop/FortuneWeb/my-fortune-app/src/components/FortuneTeller.jsx\",\n  _s = $RefreshSig$();\n// 檔案: src/components/FortuneTeller.jsx (整合 LibreTranslate 翻譯)\nimport React, { useState, useCallback, useEffect } from 'react';\nimport './FortuneTeller.css';\nimport { Converter } from 'opencc-js';\n\n// 簡體轉繁體 (用於確保所有中文都是繁體)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst converter = Converter({\n  from: 'cn',\n  to: 'tw'\n});\n\n// ⭐ Roxy API Token\nconst API_TOKEN = '05239ac6-1087-4576-9fa9-d83860a4e722';\n\n// ----------------------------------------------------\n// 🌟 LibreTranslate 翻譯輔助函式 (英 -> 中 -> 繁體)\n// ----------------------------------------------------\nconst translateToChinese = async text => {\n  if (!text || typeof text !== 'string') return text;\n  try {\n    const response = await fetch('https://libretranslate.com/translate', {\n      method: 'POST',\n      body: JSON.stringify({\n        q: text,\n        source: \"en\",\n        target: \"zh\",\n        // 中文\n        format: \"text\"\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      console.error(\"LibreTranslate API 錯誤:\", response.status);\n      return text; // 翻譯失敗時返回原文\n    }\n    const data = await response.json();\n    const translatedText = data.translatedText;\n\n    // 使用 OpenCC 將翻譯後的簡體中文轉換為繁體中文\n    return converter(translatedText);\n  } catch (error) {\n    console.error(\"翻譯請求失敗:\", error);\n    return text; // 請求失敗時返回原文\n  }\n};\n// ----------------------------------------------------\n\n// 星座選項\nconst ZODIAC_OPTIONS = [{\n  value: \"aries\",\n  label: \"♈ 牡羊座\"\n}, {\n  value: \"taurus\",\n  label: \"♉ 金牛座\"\n}, {\n  value: \"gemini\",\n  label: \"♊ 雙子座\"\n}, {\n  value: \"cancer\",\n  label: \"♋ 巨蟹座\"\n}, {\n  value: \"leo\",\n  label: \"♌ 獅子座\"\n}, {\n  value: \"virgo\",\n  label: \"♍ 處女座\"\n}, {\n  value: \"libra\",\n  label: \"♎ 天秤座\"\n}, {\n  value: \"scorpio\",\n  label: \"♏ 天蠍座\"\n}, {\n  value: \"sagittarius\",\n  label: \"♐ 射手座\"\n}, {\n  value: \"capricorn\",\n  label: \"♑ 摩羯座\"\n}, {\n  value: \"aquarius\",\n  label: \"♒ 水瓶座\"\n}, {\n  value: \"pisces\",\n  label: \"♓ 雙魚座\"\n}];\nconst TIME_OPTIONS = [{\n  value: \"today\",\n  label: \"今日\"\n}, {\n  value: \"week\",\n  label: \"本週\"\n}, {\n  value: \"month\",\n  label: \"本月\"\n}];\nconst FortuneTeller = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('constellation');\n\n  // ⭐ 星座運勢\n  const [selectedZodiac, setSelectedZodiac] = useState(ZODIAC_OPTIONS[0].value);\n  const [selectedTime, setSelectedTime] = useState(TIME_OPTIONS[0].value);\n  const [fortuneResult, setFortuneResult] = useState({\n    title: '請選擇您的星座並點擊「查看運勢」以開始。',\n    content: ''\n  });\n  const [isLoading, setIsLoading] = useState(false);\n\n  // ⭐ 星座特質\n  const [traitsData, setTraitsData] = useState({});\n  const [isTraitsLoading, setIsTraitsLoading] = useState(false);\n\n  // ⭐ 三張塔羅牌\n  const [tarotCards, setTarotCards] = useState([]);\n  const [isTarotLoading, setIsTarotLoading] = useState(false);\n\n  // ---------------------- 星座運勢 (使用原 API，確保繁體) ----------------------\n  const handleShowFortune = useCallback(async () => {\n    setIsLoading(true);\n    setFortuneResult({\n      title: '🔮 正在聯繫命運之輪...',\n      content: ''\n    });\n    const apiUrl = `https://v2.xxapi.cn/api/horoscope?type=${selectedZodiac}&time=${selectedTime}`;\n    try {\n      var _data$data, _data$data$fortunetex, _ZODIAC_OPTIONS$find, _TIME_OPTIONS$find;\n      const response = await fetch(apiUrl);\n      if (!response.ok) throw new Error(`API 錯誤: ${response.status}`);\n      const data = await response.json();\n      let fortuneText = ((_data$data = data.data) === null || _data$data === void 0 ? void 0 : (_data$data$fortunetex = _data$data.fortunetext) === null || _data$data$fortunetex === void 0 ? void 0 : _data$data$fortunetex.all) || '運勢暫無資料。';\n      // 移除廣告和不相關文字\n      fortuneText = fortuneText.replace(/星\\d+座\\d+屋[^\\u4e00-\\u9fa5]*/g, '').trim();\n      // 確保是繁體\n      fortuneText = converter(fortuneText);\n      setFortuneResult({\n        title: `${(_ZODIAC_OPTIONS$find = ZODIAC_OPTIONS.find(z => z.value === selectedZodiac)) === null || _ZODIAC_OPTIONS$find === void 0 ? void 0 : _ZODIAC_OPTIONS$find.label} ${(_TIME_OPTIONS$find = TIME_OPTIONS.find(t => t.value === selectedTime)) === null || _TIME_OPTIONS$find === void 0 ? void 0 : _TIME_OPTIONS$find.label}運勢：`,\n        content: fortuneText\n      });\n    } catch {\n      setFortuneResult({\n        title: '❌ 運勢讀取失敗',\n        content: '請稍後再試。'\n      });\n    }\n    setIsLoading(false);\n  }, [selectedZodiac, selectedTime]);\n\n  // ---------------------- 星座特質 (新增翻譯) ----------------------\n  const fetchAllZodiacTraits = useCallback(async () => {\n    setIsTraitsLoading(true);\n    const result = {};\n    for (const zodiac of ZODIAC_OPTIONS) {\n      try {\n        const url = `https://roxyapi.com/api/v1/data/astro/astrology/zodiac/${zodiac.value}?token=${API_TOKEN}`;\n        const res = await fetch(url);\n        const data = await res.json();\n\n        // 🌟 使用 LibreTranslate 翻譯英文特質\n        const translatedElement = await translateToChinese(data.element || \"\");\n        const translatedPersonality = await translateToChinese(data.personality || \"\");\n        result[zodiac.value] = {\n          // 這裡不需要再使用 converter，因為 translateToChinese 內部已經處理了\n          element: translatedElement,\n          personality: translatedPersonality\n        };\n      } catch {\n        result[zodiac.value] = null;\n      }\n    }\n    setTraitsData(result);\n    setIsTraitsLoading(false);\n  }, []);\n  useEffect(() => {\n    fetchAllZodiacTraits();\n  }, [fetchAllZodiacTraits]);\n\n  // ---------------------- 三張塔羅牌 (新增翻譯) ----------------------\n  const handleDrawTarot = async () => {\n    setIsTarotLoading(true);\n    setTarotCards([]);\n    try {\n      const res = await fetch(`https://roxyapi.com/api/v1/data/astro/tarot/three-card-draw?token=${API_TOKEN}`);\n      if (!res.ok) throw new Error(`API 錯誤: ${res.status}`);\n      const data = await res.json();\n\n      // 🌟 使用 map(async...) 並用 Promise.all 等待所有翻譯完成\n      const cardsPromises = data.map(async card => {\n        // 🌟 處理名稱 (可能為英文)\n        const translatedName = await translateToChinese(card.name);\n\n        // 🌟 處理解釋\n        const meaningToTranslate = card.is_reversed ? card.reversed_meaning || card.meaning : card.meaning;\n        const translatedMeaning = await translateToChinese(meaningToTranslate);\n        return {\n          name: translatedName,\n          meaning: translatedMeaning,\n          imageUrl: card.image,\n          isReversed: card.is_reversed\n        };\n      });\n      setTarotCards(await Promise.all(cardsPromises));\n    } catch (err) {\n      console.error(err);\n      alert('抽牌失敗，請檢查網路連線或稍後再試。');\n      setTarotCards([]);\n    }\n    setIsTarotLoading(false);\n  };\n\n  // ---------------------- UI 渲染 ----------------------\n  const renderConstellationSection = () => /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"content-section active\",\n    children: [\"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u4ECA\\u65E5\\u661F\\u5EA7\\u904B\\u52E2 \\u2728\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"zodiac-selector\",\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedZodiac,\n        onChange: e => setSelectedZodiac(e.target.value),\n        children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", ZODIAC_OPTIONS.map(z => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: z.value,\n          children: z.label\n        }, z.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 36\n        }, this)), \"\\xA0 \\xA0 \\xA0 \\xA0 \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedTime,\n        onChange: e => setSelectedTime(e.target.value),\n        children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", TIME_OPTIONS.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: t.value,\n          children: t.label\n        }, t.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 34\n        }, this)), \"\\xA0 \\xA0 \\xA0 \\xA0 \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleShowFortune,\n        disabled: isLoading,\n        children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", isLoading ? '運算中...' : '查看運勢', \"\\xA0 \\xA0 \\xA0 \\xA0 \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result-box\",\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: fortuneResult.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: fortuneResult.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n  const renderInfoSection = () => /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"content-section\",\n    children: [\"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCD6 \\u5341\\u4E8C\\u661F\\u5EA7\\u7279\\u8CEA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", isTraitsLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u8F09\\u5165\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 27\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"constellation-grid\",\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", ZODIAC_OPTIONS.map(z => {\n        const info = traitsData[z.value];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"constellation-card\",\n          children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: z.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", !info && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u8F09\\u5165\\u4E2D\\u6216\\u5C1A\\u7121\\u8CC7\\u6599\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", info && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u2728 \\u5143\\u7D20\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 22\n              }, this), \" \", info.element]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83C\\uDF1F \\u500B\\u6027\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 22\n              }, this), \" \", info.personality]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]\n          }, void 0, true), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]\n        }, z.value, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this);\n      }), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 5\n  }, this);\n  const renderTarotSection = () => /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"content-section\",\n    children: [\"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDD2E \\u4E09\\u5F35\\u5854\\u7F85\\u724C\\u5360\\u535C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"tarot-btn\",\n      onClick: handleDrawTarot,\n      disabled: isTarotLoading,\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", isTarotLoading ? '抽牌中...' : '抽取三張塔羅牌', \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tarot-area\",\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'space-around',\n        marginTop: '30px'\n      },\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", tarotCards.map((card, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '180px',\n          textAlign: 'center',\n          margin: '15px 10px'\n        },\n        children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '280px',\n            borderRadius: '15px',\n            overflow: 'hidden',\n            boxShadow: '0 10px 20px rgba(0,0,0,0.5)',\n            marginBottom: '10px'\n          },\n          children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: card.imageUrl,\n            alt: card.name,\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover',\n              transform: card.isReversed ? 'rotate(180deg)' : 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: card.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '0.9rem',\n            lineHeight: '1.3',\n            color: '#ffd700'\n          },\n          children: card.meaning\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this)), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"header\", {\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83C\\uDF1F \\u547D\\u904B\\u4E4B\\u8F2A \\uD83C\\uDF1F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-btn ${activeTab === 'constellation' ? 'active' : ''}`,\n          onClick: () => setActiveTab('constellation'),\n          children: \"\\u661F\\u5EA7\\u904B\\u52E2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-btn ${activeTab === 'tarot' ? 'active' : ''}`,\n          onClick: () => setActiveTab('tarot'),\n          children: \"\\u5854\\u7F85\\u5360\\u535C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-btn ${activeTab === 'info' ? 'active' : ''}`,\n          onClick: () => setActiveTab('info'),\n          children: \"\\u661F\\u5EA7\\u4ECB\\u7D39\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), \"\\xA0 \\xA0 \\xA0 \\xA0 \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", activeTab === 'constellation' && renderConstellationSection(), \"\\xA0 \\xA0 \\xA0 \\xA0 \", activeTab === 'tarot' && renderTarotSection(), \"\\xA0 \\xA0 \\xA0 \\xA0 \", activeTab === 'info' && renderInfoSection(), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: [\"\\xA0 \\xA0 \\xA0 \\xA0 \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\xA9 2025 \\u547D\\u904B\\u4E4B\\u8F2A\\u9B54\\u6CD5\\u5C4B\\u3002\\u6240\\u6709\\u5167\\u5BB9\\u50C5\\u4F9B\\u5A1B\\u6A02\\u53C3\\u8003\\u3002\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), \"\\xA0 \\xA0 \\xA0 \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), \"\\xA0 \\xA0 \"]\n  }, void 0, true);\n};\n_s(FortuneTeller, \"LLyXD0Uqk9r0KfLIZBUHxHPfuOY=\");\n_c = FortuneTeller;\nexport default FortuneTeller;\nvar _c;\n$RefreshReg$(_c, \"FortuneTeller\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","Converter","jsxDEV","_jsxDEV","Fragment","_Fragment","converter","from","to","API_TOKEN","translateToChinese","text","response","fetch","method","body","JSON","stringify","q","source","target","format","headers","ok","console","error","status","data","json","translatedText","ZODIAC_OPTIONS","value","label","TIME_OPTIONS","FortuneTeller","_s","activeTab","setActiveTab","selectedZodiac","setSelectedZodiac","selectedTime","setSelectedTime","fortuneResult","setFortuneResult","title","content","isLoading","setIsLoading","traitsData","setTraitsData","isTraitsLoading","setIsTraitsLoading","tarotCards","setTarotCards","isTarotLoading","setIsTarotLoading","handleShowFortune","apiUrl","_data$data","_data$data$fortunetex","_ZODIAC_OPTIONS$find","_TIME_OPTIONS$find","Error","fortuneText","fortunetext","all","replace","trim","find","z","t","fetchAllZodiacTraits","result","zodiac","url","res","translatedElement","element","translatedPersonality","personality","handleDrawTarot","cardsPromises","map","card","translatedName","name","meaningToTranslate","is_reversed","reversed_meaning","meaning","translatedMeaning","imageUrl","image","isReversed","Promise","err","alert","renderConstellationSection","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","onClick","disabled","renderInfoSection","info","renderTarotSection","style","display","flexWrap","justifyContent","marginTop","idx","width","textAlign","margin","height","borderRadius","overflow","boxShadow","marginBottom","src","alt","objectFit","transform","fontSize","lineHeight","color","_c","$RefreshReg$"],"sources":["/Users/karly/Desktop/FortuneWeb/my-fortune-app/src/components/FortuneTeller.jsx"],"sourcesContent":["// 檔案: src/components/FortuneTeller.jsx (整合 LibreTranslate 翻譯)\nimport React, { useState, useCallback, useEffect } from 'react';\nimport './FortuneTeller.css';\nimport { Converter } from 'opencc-js';\n\n// 簡體轉繁體 (用於確保所有中文都是繁體)\nconst converter = Converter({ from: 'cn', to: 'tw' });\n\n// ⭐ Roxy API Token\nconst API_TOKEN = '05239ac6-1087-4576-9fa9-d83860a4e722';\n\n// ----------------------------------------------------\n// 🌟 LibreTranslate 翻譯輔助函式 (英 -> 中 -> 繁體)\n// ----------------------------------------------------\nconst translateToChinese = async (text) => {\n    if (!text || typeof text !== 'string') return text;\n\n    try {\n        const response = await fetch('https://libretranslate.com/translate', {\n            method: 'POST',\n            body: JSON.stringify({\n                q: text,\n                source: \"en\",\n                target: \"zh\", // 中文\n                format: \"text\",\n            }),\n            headers: { \"Content-Type\": \"application/json\" }\n        });\n\n        if (!response.ok) {\n            console.error(\"LibreTranslate API 錯誤:\", response.status);\n            return text; // 翻譯失敗時返回原文\n        }\n\n        const data = await response.json();\n        const translatedText = data.translatedText;\n        \n        // 使用 OpenCC 將翻譯後的簡體中文轉換為繁體中文\n        return converter(translatedText); \n\n    } catch (error) {\n        console.error(\"翻譯請求失敗:\", error);\n        return text; // 請求失敗時返回原文\n    }\n};\n// ----------------------------------------------------\n\n\n// 星座選項\nconst ZODIAC_OPTIONS = [\n  { value: \"aries\", label: \"♈ 牡羊座\" },\n  { value: \"taurus\", label: \"♉ 金牛座\" },\n  { value: \"gemini\", label: \"♊ 雙子座\" },\n  { value: \"cancer\", label: \"♋ 巨蟹座\" },\n  { value: \"leo\", label: \"♌ 獅子座\" },\n  { value: \"virgo\", label: \"♍ 處女座\" },\n  { value: \"libra\", label: \"♎ 天秤座\" },\n  { value: \"scorpio\", label: \"♏ 天蠍座\" },\n  { value: \"sagittarius\", label: \"♐ 射手座\" },\n  { value: \"capricorn\", label: \"♑ 摩羯座\" },\n  { value: \"aquarius\", label: \"♒ 水瓶座\" },\n  { value: \"pisces\", label: \"♓ 雙魚座\" },\n];\n\nconst TIME_OPTIONS = [\n  { value: \"today\", label: \"今日\" },\n  { value: \"week\", label: \"本週\" },\n  { value: \"month\", label: \"本月\" },\n];\n\nconst FortuneTeller = () => {\n  const [activeTab, setActiveTab] = useState('constellation');\n\n  // ⭐ 星座運勢\n  const [selectedZodiac, setSelectedZodiac] = useState(ZODIAC_OPTIONS[0].value);\n  const [selectedTime, setSelectedTime] = useState(TIME_OPTIONS[0].value);\n  const [fortuneResult, setFortuneResult] = useState({\n    title: '請選擇您的星座並點擊「查看運勢」以開始。',\n    content: ''\n  });\n  const [isLoading, setIsLoading] = useState(false);\n\n  // ⭐ 星座特質\n  const [traitsData, setTraitsData] = useState({});\n  const [isTraitsLoading, setIsTraitsLoading] = useState(false);\n\n  // ⭐ 三張塔羅牌\n  const [tarotCards, setTarotCards] = useState([]);\n  const [isTarotLoading, setIsTarotLoading] = useState(false);\n\n  // ---------------------- 星座運勢 (使用原 API，確保繁體) ----------------------\n  const handleShowFortune = useCallback(async () => {\n    setIsLoading(true);\n    setFortuneResult({ title: '🔮 正在聯繫命運之輪...', content: '' });\n\n    const apiUrl = `https://v2.xxapi.cn/api/horoscope?type=${selectedZodiac}&time=${selectedTime}`;\n    try {\n      const response = await fetch(apiUrl);\n      if (!response.ok) throw new Error(`API 錯誤: ${response.status}`);\n\n      const data = await response.json();\n      let fortuneText = data.data?.fortunetext?.all || '運勢暫無資料。';\n      // 移除廣告和不相關文字\n      fortuneText = fortuneText.replace(/星\\d+座\\d+屋[^\\u4e00-\\u9fa5]*/g, '').trim(); \n      // 確保是繁體\n      fortuneText = converter(fortuneText); \n\n      setFortuneResult({\n        title: `${ZODIAC_OPTIONS.find(z => z.value === selectedZodiac)?.label} ${TIME_OPTIONS.find(t => t.value === selectedTime)?.label}運勢：`,\n        content: fortuneText\n      });\n    } catch {\n      setFortuneResult({ title: '❌ 運勢讀取失敗', content: '請稍後再試。' });\n    }\n    setIsLoading(false);\n  }, [selectedZodiac, selectedTime]);\n\n  // ---------------------- 星座特質 (新增翻譯) ----------------------\n  const fetchAllZodiacTraits = useCallback(async () => {\n    setIsTraitsLoading(true);\n    const result = {};\n\n    for (const zodiac of ZODIAC_OPTIONS) {\n      try {\n        const url = `https://roxyapi.com/api/v1/data/astro/astrology/zodiac/${zodiac.value}?token=${API_TOKEN}`;\n        const res = await fetch(url);\n        const data = await res.json();\n        \n        // 🌟 使用 LibreTranslate 翻譯英文特質\n        const translatedElement = await translateToChinese(data.element || \"\"); \n        const translatedPersonality = await translateToChinese(data.personality || \"\"); \n\n        result[zodiac.value] = {\n          // 這裡不需要再使用 converter，因為 translateToChinese 內部已經處理了\n          element: translatedElement, \n          personality: translatedPersonality \n        };\n      } catch {\n        result[zodiac.value] = null;\n      }\n    }\n\n    setTraitsData(result);\n    setIsTraitsLoading(false);\n  }, []);\n\n  useEffect(() => {\n    fetchAllZodiacTraits();\n  }, [fetchAllZodiacTraits]);\n\n  // ---------------------- 三張塔羅牌 (新增翻譯) ----------------------\n  const handleDrawTarot = async () => {\n    setIsTarotLoading(true);\n    setTarotCards([]);\n\n    try {\n      const res = await fetch(`https://roxyapi.com/api/v1/data/astro/tarot/three-card-draw?token=${API_TOKEN}`);\n      if (!res.ok) throw new Error(`API 錯誤: ${res.status}`);\n      const data = await res.json();\n\n      // 🌟 使用 map(async...) 並用 Promise.all 等待所有翻譯完成\n      const cardsPromises = data.map(async (card) => {\n        \n        // 🌟 處理名稱 (可能為英文)\n        const translatedName = await translateToChinese(card.name); \n        \n        // 🌟 處理解釋\n        const meaningToTranslate = card.is_reversed ? (card.reversed_meaning || card.meaning) : card.meaning;\n        const translatedMeaning = await translateToChinese(meaningToTranslate);\n\n        return {\n          name: translatedName,\n          meaning: translatedMeaning,\n          imageUrl: card.image,\n          isReversed: card.is_reversed\n        };\n      });\n      \n      setTarotCards(await Promise.all(cardsPromises));\n\n    } catch (err) {\n      console.error(err);\n      alert('抽牌失敗，請檢查網路連線或稍後再試。');\n      setTarotCards([]);\n    }\n    setIsTarotLoading(false);\n  };\n\n  // ---------------------- UI 渲染 ----------------------\n  const renderConstellationSection = () => (\n    <section className=\"content-section active\">\n      <h2>今日星座運勢 ✨</h2>\n      <div className=\"zodiac-selector\">\n        <select value={selectedZodiac} onChange={e => setSelectedZodiac(e.target.value)}>\n          {ZODIAC_OPTIONS.map(z => <option key={z.value} value={z.value}>{z.label}</option>)}\n        </select>\n        <select value={selectedTime} onChange={e => setSelectedTime(e.target.value)}>\n          {TIME_OPTIONS.map(t => <option key={t.value} value={t.value}>{t.label}</option>)}\n        </select>\n        <button onClick={handleShowFortune} disabled={isLoading}>\n          {isLoading ? '運算中...' : '查看運勢'}\n        </button>\n      </div>\n      <div className=\"result-box\">\n        <h3>{fortuneResult.title}</h3>\n        <p>{fortuneResult.content}</p>\n      </div>\n    </section>\n  );\n\n  const renderInfoSection = () => (\n    <section className=\"content-section\">\n      <h2>📖 十二星座特質</h2>\n      {isTraitsLoading && <p>載入中...</p>}\n      <div className=\"constellation-grid\">\n        {ZODIAC_OPTIONS.map(z => {\n          const info = traitsData[z.value];\n          return (\n            <div className=\"constellation-card\" key={z.value}>\n              <h3>{z.label}</h3>\n              {!info && <p>載入中或尚無資料</p>}\n              {info && (\n                <>\n                  <p><strong>✨ 元素：</strong> {info.element}</p>\n                  <p><strong>🌟 個性：</strong> {info.personality}</p>\n                </>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </section>\n  );\n\n  const renderTarotSection = () => (\n    <section className=\"content-section\">\n      <h2>🔮 三張塔羅牌占卜</h2>\n      <button className=\"tarot-btn\" onClick={handleDrawTarot} disabled={isTarotLoading}>\n        {isTarotLoading ? '抽牌中...' : '抽取三張塔羅牌'}\n      </button>\n      <div className=\"tarot-area\" style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around', marginTop: '30px' }}>\n        {tarotCards.map((card, idx) => (\n          <div key={idx} style={{ width: '180px', textAlign: 'center', margin: '15px 10px' }}>\n            <div\n              style={{\n                width: '100%',\n                height: '280px',\n                borderRadius: '15px',\n                overflow: 'hidden',\n                boxShadow: '0 10px 20px rgba(0,0,0,0.5)',\n                marginBottom: '10px'\n              }}\n            >\n              <img\n                src={card.imageUrl}\n                alt={card.name}\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  objectFit: 'cover',\n                  transform: card.isReversed ? 'rotate(180deg)' : 'none'\n                }}\n              />\n            </div>\n            <h3>{card.name}</h3>\n            <p style={{ fontSize: '0.9rem', lineHeight: '1.3', color: '#ffd700' }}>{card.meaning}</p>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n\n  return (\n    <>\n      <header>\n        <h1>🌟 命運之輪 🌟</h1>\n        <nav>\n          <button className={`nav-btn ${activeTab === 'constellation' ? 'active' : ''}`} onClick={() => setActiveTab('constellation')}>星座運勢</button>\n          <button className={`nav-btn ${activeTab === 'tarot' ? 'active' : ''}`} onClick={() => setActiveTab('tarot')}>塔羅占卜</button>\n          <button className={`nav-btn ${activeTab === 'info' ? 'active' : ''}`} onClick={() => setActiveTab('info')}>星座介紹</button>\n        </nav>\n      </header>\n\n      <main>\n        {activeTab === 'constellation' && renderConstellationSection()}\n        {activeTab === 'tarot' && renderTarotSection()}\n        {activeTab === 'info' && renderInfoSection()}\n      </main>\n\n      <footer>\n        <p>&copy; 2025 命運之輪魔法屋。所有內容僅供娛樂參考。</p>\n      </footer>\n    </>\n  );\n};\n\nexport default FortuneTeller;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}